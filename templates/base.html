{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>{% block title %}Profile Page{% endblock %}</title>
  <link rel="icon" type="image/png" href="{% static 'images/ume-logo.png' %}">
  <link rel="stylesheet" href="{% static 'css/profile.css' %}">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<!-- ✅ Top Bar (Logo + Search + Profile) -->
<div class="top-bar">
  <div class="top-left-logo">
    <img src="{% static 'images/ume-logo-white.png' %}" alt="Logo">
  </div>

  <div class="top-search">
    <input type="text" class="search-box" placeholder="Search...">
  </div>

  <div class="top-profile-icon">
    <img src="{% static 'images/profile.png' %}" alt="pic">
  </div>
</div>


<!-- ✅ Horizontal Menu -->
<div class="horizontal-menu">
  <a href="{% url 'home' %}" id="nav-home"
     data-default="{% static 'images/homeicon_white.png' %}"
     data-active="{% static 'images/homeicon.png' %}">
    <img src="{% static 'images/homeicon_white.png' %}" alt="Home">
  </a>
  <a href="{% url 'bestie_list' %}" id="nav-besties"
     data-default="{% static 'images/group_white.png' %}"
     data-active="{% static 'images/group.png' %}">
    <img src="{% static 'images/group_white.png' %}" alt="Group">
  </a>
  <a href="{% url 'search_bestie' %}" id="nav-add"
     data-default="{% static 'images/add-user_white.png' %}"
     data-active="{% static 'images/add-user.png' %}">
    <img src="{% static 'images/add-user_white.png' %}" alt="Add User">
  </a>
  <a href="{% url 'settings' %}" id="nav-settings"
     data-default="{% static 'images/settings_white.png' %}"
     data-active="{% static 'images/settings.png' %}">
    <img src="{% static 'images/settings_white.png' %}" alt="Settings">
  </a>
</div>

<!-- ✅ Page Content -->
<div class="page-content">
  {% block content %}{% endblock %}
</div>

<!-- ✅ Logout -->
<form action="{% url 'logout' %}" method="post" class="logout-form">
  {% csrf_token %}
  <button type="submit" class="logout-button">Logout</button>
</form>

<!-- ✅ Footer -->
<footer class="footer-fixed">
  <p>&copy; 2025 UME Limited. All rights reserved.</p>
</footer>

<!-- ✅ Menu Active State Script -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const menuLinks = document.querySelectorAll(".horizontal-menu a");
    const currentPath = window.location.pathname;

    menuLinks.forEach(link => {
      const href = link.getAttribute("href");
      const img = link.querySelector("img");

      if (currentPath === href || currentPath.startsWith(href)) {
        img.src = link.getAttribute("data-active");
      } else {
        img.src = link.getAttribute("data-default");
      }
    });
  });
</script>

</body>
</html>
